# {{ ansible_managed }} [ansible-playbooks v{{ ansibleplaybooks_version }}]

# The following map *must* match the IP address assignments for any
# hosts (e.g., Vagrant VMs) in the .local deployment domain. There must
# *not* be any duplicate IP address assignments. If two names must
# map to the same IP address, use an appropriate CNAME alias.

{% if groups['private'] is defined %}
# The following hosts come from Ansible inventory groups['private']
{% for host in groups['private'] %}
{% if hostvars[host].net.iface[zone_iface['local']].ip is defined %}
{{ hostvars[host].net.iface[zone_iface['local']].ip }}	{{ host }}
{% endif %}
{% endfor %}
{% endif %}

# Aliases for groups to facilitate templating of things like
# cluster member lists, etc.

{% for group in groups %}
{% for host in groups[group] %}
{% if hostvars[host].net.iface[zone_iface['local']].ip is defined %}
{{ hostvars[host].net.iface[zone_iface['local']].ip }} {{ group }}.group.{{ deployment }}
{% endif %}
{% endfor %}
{% endfor %}

